<!DOCTYPE html>
<html lang="{{ request.LANGUAGE_CODE }}" data-x="html" data-x-toggle="html-overflow-hidden">
{% load static %}
{% load i18n %}
<head>
    <!-- Basic Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="robots" content="index, follow">
    <meta name="author" content="TransfersLux">
    <meta name="google-site-verification" content="8gyLcxz8QMUkIFWl_jFPQcA3c8At_zxGaA4Y5n03fL4" />
    
    <!-- SEO Meta -->
    <title>{% block title %}{% trans "Private Transfers in Italy" %} | TransfersLux{% endblock %}</title>
    <meta name="description" content="{% block meta_description %}{% trans "Book comfortable private transfers from airports and hotels in Italy. Professional drivers, fixed prices, 24/7 service." %}{% endblock %}">
    <meta name="keywords" content="{% trans "private transfer Italy, airport transfer Milan, Rome airport taxi, Italy chauffeur service, luxury transfer" %}">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{% block canonical %}https://transferslux.com{% if request.LANGUAGE_CODE != 'en' %}/{{ request.LANGUAGE_CODE }}{% endif %}/{% endblock %}">
    
    <!-- Hreflang для мультиязычности -->
    <link rel="alternate" hreflang="en" href="https://transferslux.com/">
    <link rel="alternate" hreflang="ru" href="https://transferslux.com/ru/">
    <link rel="alternate" hreflang="it" href="https://transferslux.com/it/">
    <link rel="alternate" hreflang="x-default" href="https://transferslux.com/">
    
    <!-- Open Graph -->
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:site_name" content="TransfersLux">
    <meta property="og:title" content="{% block og_title %}{% trans "Private Transfers in Italy" %} | TransfersLux{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{% trans "Book comfortable private transfers from airports and hotels in Italy. Professional drivers, fixed prices." %}{% endblock %}">
    <meta property="og:image" content="{% block og_image %}https://transferslux.com{% static 'imgs/og-image.jpg' %}{% endblock %}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:locale" content="{{ request.LANGUAGE_CODE }}_{% if request.LANGUAGE_CODE == 'en' %}US{% elif request.LANGUAGE_CODE == 'ru' %}RU{% else %}IT{% endif %}">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{% trans "Private Transfers in Italy" %} | TransfersLux{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{% trans "Book comfortable private transfers from airports and hotels in Italy." %}{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}https://transferslux.com{% static 'imgs/og-image.jpg' %}{% endblock %}">
    
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'imgs/template/favicon.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'imgs/template/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'imgs/template/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'imgs/template/favicon-16x16.png' %}">
    
    <!-- Preconnect для оптимизации загрузки -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://maps.googleapis.com">
    <link rel="dns-prefetch" href="https://mc.yandex.ru">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <!-- JSON-LD Schema.org разметка -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TransportService",
        "name": "TransfersLux",
        "description": "{% trans "Private airport and hotel transfers in Italy" %}",
        "url": "https://transferslux.com",
        "logo": "https://transferslux.com{% static 'imgs/template/logo.png' %}",
        "image": "https://transferslux.com{% static 'imgs/og-image.jpg' %}",
        "telephone": "+39-XXX-XXX-XXXX",
        "email": "info@transferslux.com",
        "areaServed": {
            "@type": "Country",
            "name": "Italy"
        },
        "serviceType": ["Airport Transfer", "Hotel Transfer", "Private Chauffeur"],
        "provider": {
            "@type": "Organization",
            "name": "TransfersLux",
            "url": "https://transferslux.com"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "150"
        },
        "priceRange": "€€"
    }
    </script>
    
    <!-- Дополнительная Organization разметка -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "TransfersLux",
        "url": "https://transferslux.com",
        "logo": "https://transferslux.com{% static 'imgs/template/logo.png' %}",
        "sameAs": [
            "https://www.facebook.com/transferslux",
            "https://www.instagram.com/transferslux"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+39-XXX-XXX-XXXX",
            "contactType": "customer service",
            "availableLanguage": ["English", "Russian", "Italian"]
        }
    }
    </script>
    
    {% block extra_schema %}{% endblock %}
    
    <!-- Custom page styles -->
    <style>
        .messages {
            list-style-type: none;
            padding: 0;
        }
        .messages li {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        .messages li.error {
            background-color: #f8d7da;
        }
    </style>
    
    {% block extra_css %}{% endblock %}
    
    <!-- Google Maps API -->
    <script async src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&libraries=places&loading=async&callback=initMap"></script>
    <script>
        async function initMap() {
            const options = {
                fields: ["formatted_address", "geometry", "name"],
                strictBounds: false,
            };
            
            const autocompleteFormFieldFrom = document.getElementById('id_from');
            const autocompleteFromFieldFrom_hidden = document.getElementById('id_from_hidden');
            
            if (autocompleteFormFieldFrom) {
                const autocompleteFrom = new google.maps.places.Autocomplete(autocompleteFormFieldFrom, options);
                google.maps.event.clearInstanceListeners(autocompleteFormFieldFrom);
                autocompleteFrom.addListener("place_changed", () => {
                    const place_from = autocompleteFrom.getPlace();
                    autocompleteFormFieldFrom.value = place_from.name;
                    if (autocompleteFromFieldFrom_hidden) {
                        autocompleteFromFieldFrom_hidden.value = place_from.formatted_address;
                    }
                });
            }
            
            const autocompleteFormFieldTo = document.getElementById('id_to');
            const autocompleteFromFieldTo_hidden = document.getElementById('id_to_hidden');
            
            if (autocompleteFormFieldTo) {
                const autocompleteTo = new google.maps.places.Autocomplete(autocompleteFormFieldTo, options);
                google.maps.event.clearInstanceListeners(autocompleteFormFieldTo);
                autocompleteTo.addListener("place_changed", () => {
                    const place_to = autocompleteTo.getPlace();
                    autocompleteFormFieldTo.value = place_to.name;
                    if (autocompleteFromFieldTo_hidden) {
                        autocompleteFromFieldTo_hidden.value = place_to.formatted_address;
                    }
                });
            }
        }
        window.initMap = initMap;
    </script>
    
    {% block extra_js_head %}{% endblock %}
</head>
  <body>
    {% include 'includes/header.html' %}
    {% include 'includes/mobile_menu.html' %}
    <main class="main">
      {% include 'mainpage/search.html' %}
      {% include 'mainpage/how-it-works3.html' %}
      {% include 'mainpage/fleet4.html' %}
      {% include 'mainpage/why-us2.html' %}
      {% include 'mainpage/testimonials2.html' %}
      {% include 'mainpage/faq.html' %}
    </main>
    {% include 'includes/footer.html' %}
    <script src="{% static '/js/vendors/modernizr-3.6.0.min.js' %}"></script>
    <script src="{% static '/js/vendors/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static '/js/vendors/jquery-migrate-3.3.0.min.js' %}"></script>
    <script src="{% static '/js/vendors/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static '/js/vendors/wow.js' %}"></script>
    <script src="{% static '/js/vendors/perfect-scrollbar.min.js' %}"></script>
    <script src="{% static '/js/vendors/select2.min.js' %}"></script>
    <script src="{% static '/js/vendors/isotope.js' %}"></script>
    <script src="{% static '/js/vendors/scrollup.js' %}"></script>
    <script src="{% static '/js/vendors/swiper-bundle.min.js' %}"></script>
    <script src="{% static '/js/vendors/noUISlider.js' %}"></script>
    <script src="{% static '/js/vendors/slider.js' %}"></script>
    <script src="{% static '/js/vendors/slick.js' %}"></script>
    <script src="{% static '/js/vendors/jquery-ui.js' %}"></script>
    <script src="{% static '/js/vendors/jquery.timepicker.min.js' %}"></script>
    <script src="{% static '/js/main.js' %}"></script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
      (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
      m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
      (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    
      ym(88729492, "init", {
           clickmap:true,
           trackLinks:true,
           accurateTrackBounce:true,
           webvisor:true
      });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/88729492" style="position:absolute; left:-9999px;" alt=""></div></noscript>
    <!-- /Yandex.Metrika counter -->
    {% if request.LANGUAGE_CODE == 'ru' %}
    <script>
    window.addEventListener('load', function() {
        var script = document.createElement('script');
        script.src = 'https://code.jivosite.com/widget/JNDQtmFd5D';
        script.async = true;
        document.body.appendChild(script);
    });
    </script>
    {% else %}
    <script>
    window.addEventListener('load', function() {
        var script = document.createElement('script');
        script.src = 'https://code.jivosite.com/widget/tVkFYVL5Kl';
        script.async = true;
        document.body.appendChild(script);
    });
    </script>
    {% endif %}
    <script type="text/javascript">
    jQuery(document).ready(function($) {
     $(window).scrollTop(0);
    });
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-604109330"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'AW-604109330');
    </script>
      </body>
    </html>